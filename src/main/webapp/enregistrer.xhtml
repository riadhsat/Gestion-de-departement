<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <title>Enregistrement</title>
    </h:head>
    <h:body>

        <h:form id="signinForm">

            <p:panel style="width: 800px;position: absolute;margin: 200px 300px auto;">
                <f:facet name="header">Enregistrement</f:facet>
                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
                <h:panelGrid id="dialog" columns="3" rowClasses="prop" columnClasses="name,value">

                    <p:outputLabel for="cin" value="CIN"/>
                    <p:inputText id="cin" value="#{usersController.userCin}" required="true">
                        <p:ajax update="msgCin" event="keyup"/>
                    </p:inputText>
                    <p:message for="cin" id="msgCin"/>
                    <p:outputLabel for="login" value="Nom et PrÃ©nom"/>
                    <p:inputText id="login" value="#{usersController.userLogin}" required="true">
                        <p:ajax update="msgLogin" event="keyup"/>
                    </p:inputText>
                    <p:message for="login" id="msgLogin"/>

                    <p:outputLabel for="pass" value="Mot de passe"/>
                    <p:password id="pass" value="#{usersController.userPass}"/>
                    <!-- -->

                    <p:outputLabel for="pass2" value="Confirmer le mot de passe"/>
                    <p:password id="pass2" value="#{usersController.confirmUserPass}"/>
                    <!-- -->

                    <p:outputLabel for="type_compte" value="Vous Ãªtes"/>
                    <p:selectOneMenu value="#{usersController.userType}" id="type_compte">
                        <f:selectItem itemLabel="Etudiant" itemValue="etudiant"/>
                        <f:selectItem itemLabel="Enseignant" itemValue="enseignant"/>
                        <f:selectItem itemLabel="Administratif" itemValue="administratif"/>
                    </p:selectOneMenu>

                </h:panelGrid>

                <div align="center">

                    <p:commandButton id="submit" value="S'enregistrer" update="dialog" action="#{usersController.ajouter()}"/>
                </div>
            </p:panel>


        </h:form>


        <pe:blockUI widgetVar="blockUIWidget">
            <h:panelGrid columns="2">
                <h:graphicImage library="img" name="ajax-loader.gif"
                                style="margin-right: 12px; vertical-align: middle;"/>
                <h:outputText value="Veuiller Patienter..." style="white-space: nowrap;"/>
            </h:panelGrid>
        </pe:blockUI>
        
    </h:body>
</html>

